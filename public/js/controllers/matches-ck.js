"use strict";angular.module("mean.matches").controller("MatchesController",["$scope","$routeParams","$location","Global","Matches",function(e,t,n,r,i){e.global=r;e.set=function(e){this.url=e};e.create=function(){var e=new i({created:this.created,end:this.end,status:this.status,title:this.title,content:this.content,medium:this.medium,rules:this.rules,tags:this.tags,featured:this.featured,desktop:this.desktop,comments:this.comments});e.$save(function(e){n.path("match/"+e._id)});this.created="";this.end="";this.status="";this.title="";this.content="";this.medium="";this.rules="";this.tags="";this.featured="";this.desktop="";this.comments=""};e.remove=function(t){if(t){t.$remove();for(var r in e.matches)e.matches[r]===t&&e.matches.splice(r,1)}else{e.match.$remove();n.path("matches")}};e.update=function(){var t=e.match;t.updated||(t.updated=[]);t.updated.push((new Date).getTime());t.$update(function(){n.path("match/"+t._id)})};e.find=function(){i.query(function(t){e.matches=t})};e.findOne=function(){i.get({matchId:t.matchId},function(t){e.match=t})}}]);